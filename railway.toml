[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "uvicorn src.app.web:app --host 0.0.0.0 --port $PORT"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/healthz"
healthcheckTimeout = 100

[[env]]
key = "APP_HOST"
value = "0.0.0.0"

[[env]]
key = "DEBUG"
value = "false"

[[env]]
key = "MAX_CONCURRENT_JOBS"
value = "1"

[[env]]
key = "MAX_VIDEO_LENGTH_SECONDS"
value = "180"
